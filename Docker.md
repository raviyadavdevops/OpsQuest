# DevOps Interview Questions: Docker

## Easy Questions:
1. **What is Docker?**
   - Docker is an open-source platform for automating the deployment, scaling, and management of applications inside lightweight containers.
   
2. **What is a Docker container?**
   - A container is a lightweight, portable, and isolated executable package that includes everything needed to run an application (code, runtime, system libraries).
   
3. **What is a Docker image?**
   - A Docker image is a read-only template used to create containers. It contains the application code, runtime environment, libraries, and dependencies.
   
4. **What is Docker Hub?**
   - Docker Hub is a cloud-based repository where Docker users can store, share, and access public or private container images.
   
5. **How do you create a Docker container?**
   - By using the `docker run` command:
     ```bash
     docker run <image_name>
     ```
   
6. **What is the difference between a Docker image and a container?**
   - **Image**: A static snapshot of an application and its environment.
   - **Container**: A running instance of an image that is isolated and portable.
   
7. **How do you stop and remove a running container?**
   - To stop: 
     ```bash
     docker stop <container_id>
     ```
   - To remove: 
     ```bash
     docker rm <container_id>
     ```
   
8. **How do you list all Docker containers?**
   - `docker ps` lists running containers. Add `-a` to list all (including stopped) containers:
     ```bash
     docker ps -a
     ```
   
9. **What is a Dockerfile?**
   - A Dockerfile is a text file containing a series of instructions used to build a Docker image.
   
10. **What are the basic Dockerfile instructions?**
    - Common instructions include `FROM`, `RUN`, `COPY`, `WORKDIR`, `CMD`, `ENTRYPOINT`.

## Intermediate Questions:
11. **What is the purpose of the docker-compose command?**
    - `docker-compose` is a tool for defining and running multi-container Docker applications using a `docker-compose.yml` file.
    
12. **How do you build a Docker image from a Dockerfile?**
    - By using the `docker build` command:
      ```bash
      docker build -t <image_name> .
      ```
    
13. **How do you inspect the logs of a running Docker container?**
    - Use `docker logs <container_id>` to view the logs of a specific container.
    
14. **What is the difference between CMD and ENTRYPOINT in a Dockerfile?**
    - **CMD**: Provides default arguments to an entrypoint or the container’s default executable.
    - **ENTRYPOINT**: Defines the command that will always run when the container starts.
    
15. **How do you copy files into a Docker container?**
    - Use the `docker cp` command:
      ```bash
      docker cp <source> <container_id>:<destination>
      ```
    
16. **What is the purpose of volumes in Docker?**
    - Volumes are used to persist data generated by and used in Docker containers, ensuring that data is not lost when the container is stopped or removed.
    
17. **How do you list Docker images stored locally?**
    - `docker images` or `docker image ls`.
    
18. **How do you share Docker images with others?**
    - By pushing the image to a Docker registry, like Docker Hub, using:
      ```bash
      docker push <image_name>
      ```
    
19. **What is the use of the EXPOSE instruction in a Dockerfile?**
    - The `EXPOSE` instruction informs Docker that the container will listen on the specified network port at runtime.
    
20. **How do you scale services in Docker using Docker Compose?**
    - By using the command:
      ```bash
      docker-compose up --scale <service>=<number_of_instances>
      ```

## Advanced Questions:
21. **What is the difference between bind mounts and Docker volumes?**
    - **Bind Mounts**: Map files or directories from the host filesystem to a container.
    - **Volumes**: Managed by Docker, used for persistent storage and better suited for containerized environments since Docker manages their lifecycle.
    
22. **What are Docker namespaces and cgroups, and how do they work?**
    - **Namespaces**: Provide isolation for containers, separating aspects like process IDs, network, and users.
    - **cgroups**: Control resource allocation (CPU, memory) to ensure containers use only allocated resources.
    
23. **What is the purpose of the docker network command?**
    - The `docker network` command is used to manage and create networks for Docker containers, allowing them to communicate securely and efficiently.
    
24. **How do you connect Docker containers in a multi-container environment?**
    - Containers can be connected through Docker networks using the `docker network` command or defined in a `docker-compose.yml` file.
    
25. **How do you optimize Docker images for production?**
    - Strategies include:
      - Using a minimal base image (e.g., alpine).
      - Multi-stage builds.
      - Removing unnecessary files in the final image.
      - Combining RUN commands to reduce layers.
    
26. **What is a multi-stage build in Docker?**
    - Multi-stage builds allow you to create lean production images by breaking the Dockerfile into multiple stages. Each stage can build on the previous one while discarding unnecessary layers.
    ```Dockerfile
    FROM golang:1.16 AS builder
    WORKDIR /app
    COPY . .
    RUN go build -o main .

    FROM alpine
    COPY --from=builder /app/main /main
    CMD ["/main"]
    ```

27. **What is Docker Swarm, and how is it different from Kubernetes?**
    - **Docker Swarm**: Docker’s native clustering and orchestration tool for scaling applications across multiple nodes.
    - **Kubernetes**: A more comprehensive and widely adopted container orchestration tool, offering advanced features like auto-scaling, service discovery, and load balancing.
    
28. **How do you manage secrets in Docker?**
    - Secrets can be managed securely using Docker Swarm or Kubernetes. In Docker Swarm, secrets are stored in the swarm manager and distributed to services on a need-to-know basis using:
      ```bash
      docker secret
      ```
    
29. **What are Docker overlays and bridge networks, and when would you use them?**
    - **Bridge Network**: A default network driver that allows communication between containers on the same host.
    - **Overlay Network**: Used in Docker Swarm or Kubernetes to enable communication between containers across different hosts.
    
30. **Explain how you would troubleshoot container performance issues in Docker.**
    - Check CPU/memory usage using `docker stats`.
    - Use logs (`docker logs <container_id>`) to find errors.
    - Inspect network configurations (`docker network inspect`).
    - Examine container events (`docker events`).
    
31. **How does Docker implement isolation between containers?**
    - Docker uses a combination of namespaces for isolating resources (e.g., processes, network, and users) and cgroups to manage resource usage (e.g., CPU, memory).
    
32. **What is Docker’s BuildKit, and how does it improve the build process?**
    - BuildKit is a backend for Docker builds that speeds up the build process and offers improved caching, better output management, and parallel execution.
    
33. **How do you implement Docker in a CI/CD pipeline?**
    - By using tools like Jenkins, GitLab CI, or CircleCI, you can automate Docker tasks like building, testing, and pushing images to registries. Pipelines often include steps for building Docker images, running tests in containers, and deploying them to production.
    
34. **What is the difference between Docker run and Docker exec?**
    - `docker run`: Starts a new container from an image.
    - `docker exec`: Runs a command in a running container.
    
35. **How would you handle rolling updates and rollbacks using Docker?**
    - In Docker Swarm or Kubernetes, rolling updates can be configured to gradually update services. Rollbacks are managed by retaining previous versions of the service or image to easily revert if issues arise.
    
36. **What security measures would you implement to secure Docker containers?**
    - Key practices include:
      - Running containers as non-root users.
      - Keeping Docker and images up-to-date.
      - Using signed images and enabling image scanning.
      - Limiting container capabilities.
      - Using Docker Content Trust (DCT) to ensure image integrity.
      - Isolating containers with namespaces and cgroups.

## Summary of Difficulty Levels:
- **Easy**: Basic concepts of Docker, containers, images, and fundamental commands.
- **Intermediate**: More complex commands, Docker Compose, Dockerfiles, networking, and storage.
- **Advanced**: Scaling with Docker Swarm/Kubernetes, optimizing images, security practices, troubleshooting, and performance tuning.

This progression covers most of the concepts you’ll encounter in interviews.
